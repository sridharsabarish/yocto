# Exercise 11: Kernel & BSP #unclear 

## Learning Outcome
1. Learn how to modify the linux kernel #unclear 
2. Explore the existing BSP layers in Yocto
3. Learn how to set machine defintiions for a reicpe #majorreview 
##  Part 1 : Getting Started
1. Explore a BSP Layer 
	1. [ ] find a BSP layer recipe as example #todo 
## Part 2: Set up Machine Definitions  #minoreview 


**TARGET_ARCH**
**KERNEL_IMAGETYPE**
IMAGE_FSTYPES
MACHINE_FEATURES


- [ ] some overrides wou;ld be nice #todo 
- [ ] Kernel branches? #todo



## Part 3: Use Config fragments for updating Kernel. #unclear 
Menu config


1. RUn this command

```shell
bitbake virtual/kernel -c menuconfig
```

2. Enable the CAN Bus in the networking support

3. Exit the menu config

4. Run diffconfig to generate the fragment

```shell

 bitbake virtual/kernel -c menuconfig**
```


1. Inspect the fragment and see what it does
2. Copy the fragment to your layer
3. Add the fragment to your recipe in SRC_URI
4. Build the recipe and see what happens (Might take a while) ~ 5-10mins.


### go to kernel hacking


Enable support for KVM


bitbake virtual/kernel -c diffconfig

This stuff.
  
* Create your own Yocto Kernel recipe
* Defconfig stuff


- [ ] SOme more investigation on how to do this #todo 