
# Exercise : Create your own Custom Distro


- [ ] Refine it further, make it more interesting. #todo
- [ ] Could take a while #warning #todo 
- [ ] Consider moving it to the very last or during lunch.
## Learning Objective
- Learn how to add distro features to your image
- Learn how to create your own distro.



## Part 1: Explore a distro

- 1. Can you find the distro's supported by poky? #todo 


cd ~/work/poky/poky/meta-poky/conf
2. Not down how the distro looks like this will be useful!

try to ls into the distor folder.
## Part 2 : Create a new layer for DIstro

1. Now that we know how a distro looks like, can you create a layer for our distro which will be called `meta-afry`
2. 

3. Copy the base from Poky or OE-core
	1. `require conf/distro/poky.conf`
4. Set the distro variable to use this variable.
	1. DISTRO = "afry"

5. modify the variables as it suits.
`DISTRO`
`DISTRO_NAME`
`DISTRO_VERSIOn`
`DISTRO_FEATURES`
`DISTRO_EXTRA_RDEPENDS`
`TCLIBC`


## Part 3 : Update the local.conf
1. For the sake of avoiding longer builds, we will try to include a different DISTRO  "poky-tiny".
2. We will come back to this in the final exercise where we use this distro.
3. Change the value of `DISTRO` to AFRY here.


## Wait with this.
## Part 3 : Build an image
1. Here we can try to build our smaller image that we created earlier for the new distro
## part 4: Test the image.
* runqemu and so on.



# References
1. [Creating your own distro](https://docs.yoctoproject.org/dev-manual/custom-distribution.html)
2. [DISTRO Layer](https://docs.yoctoproject.org/overview-manual/concepts.html#distro-layer)